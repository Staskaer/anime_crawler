#### 这是一个基于requests库的多线程二刺螈图片爬虫框架哦！当然也不局限于二刺螈图片呢，但是记得只能用于图片T_T！

---

## 这里是说明哦

一般我们写一个图片爬虫呢，~~都是为了涩涩~~，肯定都需要先非常努力的来找到图像所在的目录，然后从里面把图像的链接提取出来！提取出来之后呢，随便从网上缝合一段代码，嘿嘿嘿，大功告成啦\\(@^0^@)/！但是有时候，我们缝合的下载部分使用了各种异步，作为大笨蛋，我肯定是看不懂的啦哈哈~，但是如果只使用requests库呢，又会导致很严重的阻塞了ψ(._. )>！

还有还有，如果想要把爬虫小姐部署在arm服务器上，很多讨人厌的依赖可能都装不上，真实太可恶了╰(艹皿艹 )！这还不算呢，我们还需要定时把爬虫小姐唤醒，让她工作一会或者是指派一定工作量，完成了才能休息哦(๐॔˃̶ᗜ˂̶๐॓)！我想想，对了，我们还需要一个客户端，来让我们来好好地康康爬虫小姐的工作结果！嘿嘿嘿嘿嘿嘿🤤🤤🤤🤤~

所以所以，咱来总结一下就是：**基于requests库、多线程下载、依赖少、定义爬取足够简单、配置灵活、能够定时启停并且有每次运行的停止条件、集成redis数据库、有客户端**(这个还还还还还还没做呢T_T)**针对二刺螈图片进行高速下载的爬虫**！~~(太棒了，这么多定语，越多肯定越厉害！好耶！)~~


## 这里是架构哦

一口气说了这么多，差点没传过来气！好叭，我们先来看一下架构图吧~

![](docs/imgs/架构图.png)

好怪哦，有点看不懂，那我就来介绍一下吧，真是没办法呢。什么？才..才不是想要主动介绍呢，哼(/ω＼\*)

当当当当，首先是`RequestsGenerator`！这个模块可重要啦！它的任务就是源源不断地生成`Request`请求，如果你想要**自定义爪巴目标**的话，重写的也就是这个东西哦，但是千万记得要遵守规范！**它每次被调用都会生成一个`RequestsBlock`，其实就是好多`Request`组成的小组啦**！默认提供的会生成百合图片的`Request`，不过总数比较少，只有几百张哦，很快就爪巴完了！

接下来，上场的这位更是重量级！她就是`RequestsRepository`，没错，就是她负责调用`RequestsGenerator`来生成请求，为了避免重复，她还使用了`BloomFilter`进行去重！**她的作用就是对请求进行去重，然后每次被调用的时候还会吐出一个没有重复的请求出来**！真不错，毕竟，这位先生，你也不希望你爬下来的结果查重率伯分之一伯吧~

然后然后，最最重要的`Downloader`就要出场啦！**她使用线程池来约束线程，采用多个线程同时下载的方式完成下载**~，而且使用的库是`requests`库哦！每个`ImageItem`先生会小心地装好一条数据然后进入`DownloaderMiddleware`被进行严格的身份审查(注:目前没有)，审查通过了才能被`ImageIO`小姐好好的保存起来哦~

是不是觉得`Downloader`小姐非常辛苦呢~没关系的！`StopConditions`会成为她贴心的小闹钟！会提醒`Downloader`小姐可以去休息啦，是不是非常贴心呢~

欸欸欸欸，`ImageIO`小姐，你干嘛~。咳咳，`ImageIO`小姐也是非常辛苦的，**她负责从`ImageItem`先生手上接受数据，然后好好的存放进Redis或者是磁盘中哦**，这可不是一个轻松的活，让我们再次感谢`ImageIO`小姐！哦对了，**`ImageIO`小姐有时还需要把磁盘或Redis中的数据搬出来递给`ImageServer`小姐哦**~

嘿嘿嘿~，哎呀！对了，忘记介绍最最最最重要的`Engine`小姐了T_T，希望`Engine`小姐不要生气捏~(￣▽￣)~*。**`Engine`小姐其实就负责的就是协调小闹钟`StopConditions`、`Downloader`小姐哦，另外还需要管理不存在的`ImageServer`小姐**~。哼哼哼，感觉也没什么大不了的嘛，感觉我上我也行(づ￣ 3￣)づ。

`ImageServer`和`ImageClient`是一对双子哦~，**`ImageClient`妹妹向`ImageServer`姐姐发起撒娇请求后，姐姐很快就会满足她的！但目前唯一的遗憾是她们都不存在哦**~T_T(还不是因为我不努力)

呜~呼~，终于介绍完了，插会腰┑(￣Д ￣)┍。


## 这里是使用方法哦

当然是有使用方法的啦，但是我先不告诉你哦，才不是没空写文档呢！

如果你一定想要知道的话，就先can can `demo.py`里的叭~，心急可是吃不了热豆腐哦！

我介绍完了，就先到这里吧，后面的区域，以后再来探索哦~
